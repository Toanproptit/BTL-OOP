<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.collections.FXCollections?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import java.lang.String?>

<AnchorPane prefHeight="675.0" prefWidth="1225.0"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.FoodMenuController">

    <HBox AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0"
          AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0">

        <!-- =============== SIDEBAR FILTER =============== -->
        <VBox prefWidth="260" spacing="20"
              style="-fx-background-color: #F9F8F6; -fx-padding: 20;">

            <Label style="-fx-font-size: 20; -fx-font-weight: bold;" text="Filter" />

            <!-- Category -->
            <VBox spacing="10">
                <Label style="-fx-font-weight: bold; -fx-font-size: 14;" text="Category" />

                <CheckBox fx:id="cbAll"        text="Tất cả" />
                <CheckBox fx:id="cbChicken"    text="Món Gà" />
                <CheckBox fx:id="cbBeef"       text="Món Bò" />
                <CheckBox fx:id="cbNoodles"    text="Mì / Bún / Phở" />
                <CheckBox fx:id="cbSeafood"    text="Hải Sản" />
                <CheckBox fx:id="cbPizza"      text="Pizza" />
                <CheckBox fx:id="cbSalad"      text="Salad" />
                <CheckBox fx:id="cbBakery"     text="Bánh - Bakery" />
                <CheckBox fx:id="cbBeverages"  text="Đồ Uống" />
                <CheckBox fx:id="cbOther"      text="Khác" />
            </VBox>

            <!-- Price Range -->
            <VBox spacing="10">
                <Label style="-fx-font-weight: bold; -fx-font-size: 14;" text="Khoảng giá" />

                <CheckBox fx:id="price5_10"    text="5.000 - 10.000đ" />
                <CheckBox fx:id="price10_20"   text="10.000 - 20.000đ" />
                <CheckBox fx:id="price20_30"   text="20.000 - 30.000đ" />
                <CheckBox fx:id="priceAbove30" text="Trên 30.000đ" />
            </VBox>

            <!-- Reset filters -->
            <Button fx:id="resetButton"
                    text="Reset"
                    onAction="#handleResetFilters"
                    style="-fx-background-color: #CCCCCC; -fx-text-fill: black; -fx-font-weight: bold;
                           -fx-background-radius: 10; -fx-padding: 10 20;" />
        </VBox>

        <!-- =============== MAIN PANEL =============== -->
        <VBox spacing="20" style="-fx-padding: 20;" HBox.hgrow="ALWAYS">

            <!-- Top bar: Search + Sort -->
            <HBox alignment="CENTER_LEFT" spacing="20" HBox.hgrow="ALWAYS">

                <TextField fx:id="searchField"
                           promptText="Tìm kiếm món ăn"
                           style="-fx-background-radius: 10; -fx-padding: 10; -fx-font-size: 14;"
                           HBox.hgrow="ALWAYS" />

                <Button fx:id="searchBtn"
                        text="Tìm"
                        onAction="#handleSearchClick"
                        style="-fx-background-color: #FF7A1A; -fx-text-fill: white;
                               -fx-background-radius: 10; -fx-padding: 10 20;" />

                <HBox spacing="5" alignment="CENTER_LEFT">
                    <Label text="Sắp xếp:" />
                    <ChoiceBox fx:id="sortChoice">
                        <items>
                            <FXCollections fx:factory="observableArrayList">
                                <String fx:value="Mặc định" />
                                <String fx:value="Giá: Thấp → Cao" />
                                <String fx:value="Giá: Cao → Thấp" />
                                <String fx:value="Tên A → Z" />
                            </FXCollections>
                        </items>
                    </ChoiceBox>
                </HBox>
            </HBox>

            <!-- Grid món ăn -->
            <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;">
                <FlowPane fx:id="foodFlow"
                          hgap="20" vgap="20"
                          prefWrapLength="900">
                    <padding>
                        <Insets top="20" bottom="20" left="20" right="20" />
                    </padding>
                </FlowPane>
            </ScrollPane>
        </VBox>

    </HBox>
</AnchorPane>
