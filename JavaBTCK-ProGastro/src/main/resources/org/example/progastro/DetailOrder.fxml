<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane prefHeight="675.0" prefWidth="1225.0" style="-fx-background-color: #FAFAFA;"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.OrderDetailController">

    <!-- ===== Header ===== -->
    <HBox layoutX="30" layoutY="25" spacing="15">
        <Label style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #1F2937;" text="Order Details" />
        <Label fx:id="orderIdLabel" style="-fx-font-size: 18px; -fx-text-fill: #F97316;" text="#ORD1028" />
        <Region HBox.hgrow="ALWAYS" />
        <Button fx:id="btnBack" onAction="#handleBack"
                style="-fx-background-color: transparent; -fx-text-fill: #6B7280; -fx-font-size: 14px;"
                text="â† Back" />
    </HBox>

    <!-- ===== Main Content ===== -->
    <HBox layoutX="76" layoutY="78" spacing="20" style="-fx-padding: 20;">

        <!-- LEFT COLUMN -->
        <VBox spacing="20">

            <!-- ORDER INFO CARD -->
            <VBox prefWidth="500" spacing="10"
                  style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10,0,0,5);">

                <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #374151;"
                       text="Order Information" />

                <GridPane hgap="10" vgap="8">

                    <Label text="Date:" GridPane.rowIndex="0" />
                    <Label fx:id="dateLabel" GridPane.columnIndex="1" GridPane.rowIndex="0" text="2025-11-21"/>

                    <Label text="Customer:" GridPane.rowIndex="1" />
                    <Label fx:id="customerLabel" GridPane.columnIndex="1" GridPane.rowIndex="1" text="Frank Miller"/>

                    <Label text="Amount:" GridPane.rowIndex="2" />
                    <Label fx:id="amountLabel" GridPane.columnIndex="1" GridPane.rowIndex="2" text="43.00"/>

                    <Label text="Status:" GridPane.rowIndex="3" />
                    <Label fx:id="statusLabel" GridPane.columnIndex="1" GridPane.rowIndex="3"
                           style="-fx-text-fill: #10B981; -fx-font-weight: bold;"
                           text="Completed"/>

                    <columnConstraints>
                        <ColumnConstraints/>
                        <ColumnConstraints/>
                    </columnConstraints>
                </GridPane>

                <Separator />

                <!-- ================= FOOD ADD SECTION (NEW) ================= -->
                <Label text="Add Food Item:" style="-fx-font-size: 13px; -fx-text-fill: #6B7280;" />

                <HBox spacing="10">
                    <ChoiceBox fx:id="foodChoiceBox" prefWidth="180"/>
                    <TextField fx:id="quantityField" promptText="Qty" prefWidth="80"/>
                    <Button text="Add" onAction="#handleAddItem"
                            style="-fx-background-color: #2563EB; -fx-text-fill: white; -fx-background-radius: 5;"/>
                </HBox>

                <Separator/>
                <!-- ============================================================= -->

                <Label style="-fx-font-size: 13px; -fx-text-fill: #6B7280;" text="Notes:" />
                <TextArea fx:id="notesArea" prefHeight="80" promptText="Enter notes..." />

                <Button fx:id="btnSave" onAction="#handleSave"
                        style="-fx-background-color: #F97316; -fx-text-fill: white; -fx-background-radius: 8;"
                        text="Save Changes" />
            </VBox>

            <!-- CUSTOMER INFO CARD -->
            <VBox prefWidth="500" spacing="10"
                  style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10,0,0,5);">

                <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #374151;"
                       text="Customer Information" />

                <VBox spacing="5" style="-fx-padding: 5;">
                    <Label fx:id="customerName" style="-fx-font-weight: bold;" text="Frank Miller" />
                    <Label fx:id="customerEmail" style="-fx-text-fill: #6B7280;" text="miller@email.com" />
                    <Label fx:id="customerPhone" style="-fx-text-fill: #6B7280;" text="(555) 346-7890" />
                </VBox>
            </VBox>
        </VBox>

        <!-- RIGHT COLUMN -->
        <VBox spacing="20">

            <!-- ORDER TRACKING -->
            <VBox prefWidth="500" spacing="10"
                  style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10,0,0,5);">
                <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #374151;"
                       text="Order Tracking" />
                <VBox spacing="8">
                    <Label text="Order Placed - 10:15 AM" />
                    <Label text="Processing - 10:45 AM" />
                    <Label text="Out for Delivery - 11:10 AM" />
                    <Label text="Completed - 11:30 AM" />
                </VBox>
            </VBox>

            <!-- MAP PLACEHOLDER -->
            <VBox prefWidth="500" spacing="10"
                  style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10,0,0,5);">
                <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #374151;"
                       text="Delivery Route" />
                <Label style="-fx-text-fill: #9CA3AF; -fx-alignment: center; -fx-font-style: italic;"
                       text="[Map Placeholder]" />
            </VBox>

        </VBox>
    </HBox>
</AnchorPane>
